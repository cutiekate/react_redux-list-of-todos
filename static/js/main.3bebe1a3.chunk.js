(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{23:function(t,e,n){t.exports=n(35)},33:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),u=n(5),i=n(22),l=n(3),s=n(11),d=n(7),b=n(20),m=function(t){return{type:"SET_SORT_TYPE",sortType:t}},f=function(t){return t.loading},p=function(t){return function(t,e,n){if(""===n)return t;switch(e){case"title":return Object(s.a)(t).sort((function(t,e){return"asc"===n?t.title.localeCompare(e.title):e.title.localeCompare(t.title)}));case"userName":return Object(s.a)(t).sort((function(t,e){var a,r,o,c,u,i,l,s;return null!==(a="asc"===n?null!==(r=null===(o=t.user)||void 0===o?void 0:o.name.localeCompare(null!==(c=null===(u=e.user)||void 0===u?void 0:u.name)&&void 0!==c?c:""))&&void 0!==r?r:0:null===(i=e.user)||void 0===i?void 0:i.name.localeCompare(null!==(l=null===(s=t.user)||void 0===s?void 0:s.name)&&void 0!==l?l:""))&&void 0!==a?a:0}));case"id":return Object(s.a)(t).sort((function(t,e){return"asc"===n?t.id-e.id:e.id-t.id}));default:return t}}(t.todos,t.sortBy,t.sortIn)},O={loading:!1,todos:[],sortBy:"",sortIn:""},E=Object(d.createStore)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0,n=["desc","asc",""];switch(e.type){case"SET_SORT_TYPE":return Object(l.a)(Object(l.a)({},t),{},{sortBy:e.sortType,sortIn:e.sortType===t.sortBy?n[(n.indexOf(t.sortIn)+1)%n.length]:"desc"});case"DELETE_TODO":return Object(l.a)(Object(l.a)({},t),{},{todos:t.todos.filter((function(t){return e.todoId!==t.id}))});case"INIT_TODOS":return Object(l.a)(Object(l.a)({},t),{},{todos:e.todos});case"START_LOADING":return Object(l.a)(Object(l.a)({},t),{},{loading:!0});case"FINISH_LOADING":return Object(l.a)(Object(l.a)({},t),{},{loading:!1});default:return t}}),Object(b.composeWithDevTools)()),v=n(14),y=n.n(v),j=n(21),h=(n(33),function(t){return fetch("".concat("https://mate-academy.github.io/react_dynamic-list-of-todos/api").concat(t,".json")).then((function(t){return t.json()}))}),T=function(t){var e=t.text,n=t.onClick,a=t.disabled,o=void 0!==a&&a;return r.a.createElement("button",{className:"btn btn-secondary active",type:"button",onClick:n,disabled:o},e)},I=function(){var t=Object(u.b)(),e=Object(u.c)(p);return r.a.createElement("ul",{className:"list-group"},e.map((function(e){var n;return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:e.id},r.a.createElement("span",{className:"badge badge-primary badge-pill"},e.id),e.title,r.a.createElement("span",{className:"users"},null===(n=e.user)||void 0===n?void 0:n.name),r.a.createElement("input",{type:"checkbox",defaultChecked:e.completed}),r.a.createElement(T,{text:"delete",onClick:function(){t({type:"DELETE_TODO",todoId:e.id})}}))})))},N=function(){var t=Object(u.b)();return r.a.createElement("p",{className:"button_container"},r.a.createElement("button",{className:"button btn btn-outline-info",onClick:function(){return t(m("title"))},type:"button"},"Sort by title"),r.a.createElement("button",{className:"button btn btn-outline-info",onClick:function(){return t(m("id"))},type:"button"},"Sort by id"),r.a.createElement("button",{className:"button btn btn-outline-info",onClick:function(){return t(m("userName"))},type:"button"},"Sort by user name"))},g=function(){var t=Object(j.a)(y.a.mark((function t(){var e,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h("/todos");case 2:return e=t.sent,t.next=5,h("/users");case 5:return n=t.sent,t.abrupt("return",e.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{user:n.find((function(e){return e.id===t.userId}))||null})})));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=Object(u.b)(),e=Object(u.c)(p),n=Object(u.c)(f);return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"header"},"Redux list of todos"),0===e.length&&r.a.createElement(T,{text:n?"Loading...":"Init data",disabled:n,onClick:function(){t({type:"START_LOADING"}),g().then((function(e){t(function(t){return{type:"INIT_TODOS",todos:t}}(e))})).finally((function(){t({type:"FINISH_LOADING"})}))}}),e.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null),r.a.createElement(I,null)))},S=function(){return r.a.createElement(u.a,{store:E},r.a.createElement(i.a,null,r.a.createElement(_,null)))};c.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.3bebe1a3.chunk.js.map