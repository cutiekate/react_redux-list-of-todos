(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{23:function(t,e,n){t.exports=n(35)},33:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(9),c=n.n(o),u=n(5),l=n(22),i=n(3),s=n(11),d=n(7),b=n(20),m=function(t){return{type:"SET_SORT_TYPE",sortType:t}},f=function(t){return t.loading},O=function(t){return function(t,e,n){switch(e){case"title":return Object(s.a)(t).sort((function(t,e){return"asc"===n?t.title.localeCompare(e.title):e.title.localeCompare(t.title)}));case"userName":return Object(s.a)(t).sort((function(t,e){var r,a,o,c,u,l,i,s;return null!==(r="asc"===n?null!==(a=null===(o=t.user)||void 0===o?void 0:o.name.localeCompare(null!==(c=null===(u=e.user)||void 0===u?void 0:u.name)&&void 0!==c?c:""))&&void 0!==a?a:0:null===(l=e.user)||void 0===l?void 0:l.name.localeCompare(null!==(i=null===(s=t.user)||void 0===s?void 0:s.name)&&void 0!==i?i:""))&&void 0!==r?r:0}));case"id":return Object(s.a)(t).sort((function(t,e){return"asc"===n?t.id-e.id:e.id-t.id}));default:return t}}(t.todos,t.sortBy,t.sortOrder)},p={loading:!1,todos:[],sortBy:"",sortOrder:""},E=Object(d.createStore)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0,n=["desc","asc"];switch(e.type){case"SET_SORT_TYPE":return Object(i.a)(Object(i.a)({},t),{},{sortBy:e.sortType,sortOrder:e.sortType===t.sortBy?n[(n.indexOf(t.sortOrder)+1)%n.length]:"desc"});case"DELETE_TODO":return Object(i.a)(Object(i.a)({},t),{},{todos:t.todos.filter((function(t){return e.todoId!==t.id}))});case"INIT_TODOS":return Object(i.a)(Object(i.a)({},t),{},{todos:e.todos});case"START_LOADING":return Object(i.a)(Object(i.a)({},t),{},{loading:!0});case"FINISH_LOADING":return Object(i.a)(Object(i.a)({},t),{},{loading:!1});default:return t}}),Object(b.composeWithDevTools)()),v=n(14),y=n.n(v),j=n(21),h=(n(33),function(t){return fetch("".concat("https://mate-academy.github.io/react_dynamic-list-of-todos/api").concat(t,".json")).then((function(t){return t.json()}))}),T=function(t){var e=t.text,n=t.onClick,r=t.disabled,o=void 0!==r&&r;return a.a.createElement("button",{className:"btn btn-secondary active",type:"button",onClick:n,disabled:o},e)},N=function(){var t=Object(u.b)(),e=Object(u.c)(O);return a.a.createElement("table",{className:"table"},e.map((function(e){var n;return a.a.createElement("tr",{key:e.id},a.a.createElement("th",null,e.id),a.a.createElement("th",null,e.title),a.a.createElement("th",null,null===(n=e.user)||void 0===n?void 0:n.name),a.a.createElement(T,{text:"delete",onClick:function(){t({type:"DELETE_TODO",todoId:e.id})}}))})))},I=function(){var t=Object(u.b)();return a.a.createElement("p",{className:"button_container"},a.a.createElement("button",{className:"button btn btn-outline-info",onClick:function(){return t(m("id"))},type:"button"},"Sort by id"),a.a.createElement("button",{className:"button btn btn-outline-info",onClick:function(){return t(m("title"))},type:"button"},"Sort by title"),a.a.createElement("button",{className:"button btn btn-outline-info",onClick:function(){return t(m("userName"))},type:"button"},"Sort by user name"))},_=function(){var t=Object(j.a)(y.a.mark((function t(){var e,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h("/todos");case 2:return e=t.sent,t.next=5,h("/users");case 5:return n=t.sent,t.abrupt("return",e.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{user:n.find((function(e){return e.id===t.userId}))||null})})));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(u.b)(),e=Object(u.c)(O),n=Object(u.c)(f);return a.a.createElement("div",{className:"App"},a.a.createElement("h1",{className:"header"},"Redux list of todos"),0===e.length&&a.a.createElement("button",{type:"button",disabled:n,onClick:function(){t({type:"START_LOADING"}),_().then((function(e){t(function(t){return{type:"INIT_TODOS",todos:t}}(e))})).finally((function(){t({type:"FINISH_LOADING"})}))},className:"button_load btn btn-secondary"},n?"Loading...":"Init data"),e.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(I,null),a.a.createElement(N,null)))},g=function(){return a.a.createElement(u.a,{store:E},a.a.createElement(l.a,null,a.a.createElement(S,null)))};c.a.render(a.a.createElement(g,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.df96ad53.chunk.js.map